{{/* 
    - All auto-generated list files use this template (e.g., taxonomy pages). See: https://gohugo.io/content-management/page-bundles/ 
    - layout-list is an empty class for easier location; do not style against it.
*/}}

{{ define "main" }}
<section class="layout-list hero is-medium is-primary pach-pattern-alt">
    <div class="hero-body">
        <h1>{{.Title}}</h1>
        {{ if .IsHome}}
            {{/* Don't show tag if homepage */}}
        {{else}}
            <div class="tag is-medium">tag</div>
        {{end}}
    </div>
</section>

{{if .Content}}
    <section class="layout-single section mb-0 pb-0"> 
        {{.Content}}
    </section>
{{end}}

<section class="layout-list section is-medium pt-0 mt-3"> 
    <div class="columns is-flex-wrap-wrap">
        {{ range sort .Pages "Weight" "$order"}}
            {{ if  .Params.hidden }}
                {{/* Do not show the hidden child page or its descendants */}}
            {{else}}
                <div class="column is-half">
                    <a class="card is-clipped	" href="{{ .Permalink }}">
                        <div class="card-content has-background-info pach-tile ">
                            <div class="content">
                                <h4 class="mr-3"> {{ .Title}}</h4>
                                {{if .Pages}} <div class="tag is-white"> {{ len (.Pages) }} articles</div> {{end}}
                                <p class="is-size-7 has-text-dark has-text-weight-normal"> {{.Summary | truncate 300 }} </p>
                            </div>
                        </div>
                    </a>
                </div>
            {{end}}
        {{ end }}
    </div>
  </section>
{{end}}
